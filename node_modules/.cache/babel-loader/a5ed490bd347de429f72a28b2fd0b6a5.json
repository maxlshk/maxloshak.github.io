{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/maxlo/workspace/Git/maxloshak.github.io/reactlab/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/maxlo/workspace/Git/maxloshak.github.io/reactlab/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/maxlo/workspace/Git/maxloshak.github.io/reactlab/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";var wait=function wait(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};var useSubmit=function useSubmit(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,data){var random;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:random=Math.random();setLoading(true);_context.prev=2;_context.next=5;return wait(2000);case 5:if(!(random<0.5)){_context.next=7;break;}throw new Error(\"Something went wrong\");case 7:setResponse({type:'success',message:\"Thanks for your submission \".concat(data.firstName,\", we will get back to you shortly!\")});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setResponse({type:'error',message:'Something went wrong, please try again later!'});case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,10,13,16]]);}));return function submit(_x,_x2){return _ref.apply(this,arguments);};}();return{isLoading:isLoading,response:response,submit:submit};};export default useSubmit;","map":{"version":3,"names":["useState","wait","ms","Promise","resolve","setTimeout","useSubmit","_useState","_useState2","_slicedToArray","isLoading","setLoading","_useState3","_useState4","response","setResponse","submit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","data","random","wrap","_callee$","_context","prev","next","Math","Error","type","message","concat","firstName","t0","finish","stop","_x","_x2","apply","arguments"],"sources":["C:/Users/maxlo/workspace/Git/maxloshak.github.io/reactlab/src/hooks/useSubmit.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst wait = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nconst useSubmit = () => {\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [response, setResponse] = useState(null);\r\n\r\n  const submit = async (url, data) => {\r\n    const random = Math.random();\r\n    setLoading(true);\r\n    try {\r\n      await wait(2000);\r\n      if (random < 0.5) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n      setResponse({\r\n        type: 'success',\r\n        message: `Thanks for your submission ${data.firstName}, we will get back to you shortly!`,\r\n      })\r\n    } catch (error) {\r\n      setResponse({\r\n        type: 'error',\r\n        message: 'Something went wrong, please try again later!',\r\n      })\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { isLoading, response, submit };\r\n}\r\n\r\nexport default useSubmit;\r\n"],"mappings":"8gBAAA,OAASA,QAAQ,KAAQ,OAAO,CAEhC,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAIC,EAAE,QAAK,IAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,QAAK,CAAAC,UAAU,CAACD,OAAO,CAAEF,EAAE,CAAC,GAAC,GAEtE,GAAM,CAAAI,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,SAAA,CAAgCP,QAAQ,CAAC,KAAK,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,SAAS,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgCZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,GAAM,CAAAG,MAAM,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,CAAEC,IAAI,MAAAC,MAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACvBL,MAAM,CAAGM,IAAI,CAACN,MAAM,CAAC,CAAC,CAC5Bb,UAAU,CAAC,IAAI,CAAC,CAACgB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAET,CAAA5B,IAAI,CAAC,IAAI,CAAC,aACZuB,MAAM,CAAG,GAAG,GAAAG,QAAA,CAAAE,IAAA,eACR,IAAI,CAAAE,KAAK,CAAC,sBAAsB,CAAC,QAEzChB,WAAW,CAAC,CACViB,IAAI,CAAE,SAAS,CACfC,OAAO,+BAAAC,MAAA,CAAgCX,IAAI,CAACY,SAAS,sCACvD,CAAC,CAAC,CAAAR,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAEFZ,WAAW,CAAC,CACViB,IAAI,CAAE,OAAO,CACbC,OAAO,CAAE,+CACX,CAAC,CAAC,SAAAN,QAAA,CAAAC,IAAA,IAEFjB,UAAU,CAAC,KAAK,CAAC,CAAC,OAAAgB,QAAA,CAAAU,MAAA,8BAAAV,QAAA,CAAAW,IAAA,OAAAjB,OAAA,uBAErB,kBApBK,CAAAL,MAAMA,CAAAuB,EAAA,CAAAC,GAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAoBX,CAED,MAAO,CAAEhC,SAAS,CAATA,SAAS,CAAEI,QAAQ,CAARA,QAAQ,CAAEE,MAAM,CAANA,MAAO,CAAC,CACxC,CAAC,CAED,cAAe,CAAAV,SAAS"},"metadata":{},"sourceType":"module"}